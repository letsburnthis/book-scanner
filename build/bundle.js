var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c,i;function a(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function f(){return g(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function p(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function w(t){i=t}const _=[],y=[],$=[],x=[],k=Promise.resolve();let I=!1;function E(t){$.push(t)}let S=!1;const R=new Set;function A(){if(!S){S=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];w(e),P(e.$$)}for(w(null),_.length=0;y.length;)y.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];R.has(e)||(R.add(e),e())}$.length=0}while(_.length);for(;x.length;)x.pop()();I=!1,S=!1,R.clear()}}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const j=new Set;const B="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(t,e){-1===t.$$.dirty[0]&&(_.push(t),I||(I=!0,k.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(l,c,a,r,d,g,f,h=[-1]){const v=i;w(l);const m=l.$$={fragment:null,ctx:null,props:g,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(v?v.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:c.target||v.$$.root};f&&f(m.root);let b=!1;if(m.ctx=a?a(l,c.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&d(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),b&&Q(l,t)),e})):[],m.update(),b=!0,o(m.before_update),m.fragment=!!r&&r(m.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);m.fragment&&m.fragment.l(t),t.forEach(u)}else m.fragment&&m.fragment.c();c.intro&&((p=l.$$.fragment)&&p.i&&(j.delete(p),p.i(_))),function(t,n,l,c){const{fragment:i,on_mount:a,on_destroy:r,after_update:u}=t.$$;i&&i.m(n,l),c||E((()=>{const n=a.map(e).filter(s);r?r.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(E)}(l,c.target,c.anchor,c.customElement),A()}var p,_;w(v)}const{document:L}=B;function T(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function q(t){let e,n,s,l,c,i,w,_,y,$,x,k,I,E,S,R,A,P,j,B,Q,C,L,T,q,D,F,N,M,O,W,J,X,z,H,U,Y,G,K,V=t[12].title+"",Z=t[12].author+"",tt=t[12].date+"",et=t[12].subject+"",nt=t[12].description+"",ot=t[12].cause+"",st=t[12].review+"";function lt(){return t[5](t[14])}function ct(){t[6].call(T,t[13],t[14])}function it(){t[8].call(U,t[13],t[14])}return{c(){e=d("tr"),n=d("td"),s=d("button"),s.textContent="x",l=f(),c=d("td"),i=g(V),w=f(),_=d("td"),y=g(Z),$=f(),x=d("td"),k=g(tt),I=f(),E=d("td"),S=g(et),R=f(),A=d("td"),P=g(nt),j=f(),B=d("td"),Q=d("div"),C=g(ot),L=f(),T=d("input"),q=f(),D=d("td"),F=d("div"),N=g(t[2]),M=f(),O=d("input"),W=f(),J=d("td"),X=d("div"),z=g(st),H=f(),U=d("input"),Y=f(),v(n,"class","svelte-1vdnlbs"),v(c,"class","svelte-1vdnlbs"),v(_,"class","svelte-1vdnlbs"),v(x,"class","svelte-1vdnlbs"),v(E,"class","svelte-1vdnlbs"),v(A,"class","svelte-1vdnlbs"),p(Q,"height","0"),p(Q,"width","0"),v(T,"type","text"),v(B,"class","svelte-1vdnlbs"),p(F,"height","0"),p(F,"width","0"),v(O,"type","text"),v(D,"class","svelte-1vdnlbs"),p(X,"height","0"),p(X,"width","0"),v(U,"type","text"),v(J,"class","svelte-1vdnlbs")},m(o,u){r(o,e,u),a(e,n),a(n,s),a(e,l),a(e,c),a(c,i),a(e,w),a(e,_),a(_,y),a(e,$),a(e,x),a(x,k),a(e,I),a(e,E),a(E,S),a(e,R),a(e,A),a(A,P),a(e,j),a(e,B),a(B,Q),a(Q,C),a(Q,L),a(B,T),b(T,t[12].cause),a(e,q),a(e,D),a(D,F),a(F,N),a(F,M),a(D,O),b(O,t[2]),a(e,W),a(e,J),a(J,X),a(X,z),a(X,H),a(J,U),b(U,t[12].review),a(e,Y),G||(K=[h(s,"click",lt),h(T,"input",ct),h(O,"input",t[7]),h(U,"input",it)],G=!0)},p(e,n){t=e,2&n&&V!==(V=t[12].title+"")&&m(i,V),2&n&&Z!==(Z=t[12].author+"")&&m(y,Z),2&n&&tt!==(tt=t[12].date+"")&&m(k,tt),2&n&&et!==(et=t[12].subject+"")&&m(S,et),2&n&&nt!==(nt=t[12].description+"")&&m(P,nt),2&n&&ot!==(ot=t[12].cause+"")&&m(C,ot),2&n&&T.value!==t[12].cause&&b(T,t[12].cause),4&n&&m(N,t[2]),4&n&&O.value!==t[2]&&b(O,t[2]),2&n&&st!==(st=t[12].review+"")&&m(z,st),2&n&&U.value!==t[12].review&&b(U,t[12].review)},d(t){t&&u(e),G=!1,o(K)}}}function D(e){let n,s,l,i,b,p,w,_,y,$,x,k,I,E,S,R,A,P,j,B,Q,C,D,M,O,W,J,X=e[1],z=[];for(let t=0;t<X.length;t+=1)z[t]=q(T(e,X,t));return{c(){n=d("script"),l=f(),i=d("title"),b=f(),p=d("meta"),w=f(),_=d("meta"),y=f(),$=d("body"),x=d("div"),k=d("div"),I=d("div"),E=f(),S=d("p"),R=g(e[0]),A=f(),P=d("button"),P.textContent="scan for books",j=f(),B=d("div"),Q=d("button"),Q.textContent="Copy All",C=f(),D=d("table"),M=d("tr"),M.innerHTML='<th class="svelte-1vdnlbs">Delete</th> \n                <th class="svelte-1vdnlbs">_______Title________</th> \n                <th class="svelte-1vdnlbs">_____Author_______</th> \n                <th class="svelte-1vdnlbs">Year</th> \n                <th class="svelte-1vdnlbs">Subject</th> \n                <th class="svelte-1vdnlbs">Description</th> \n                    <th class="svelte-1vdnlbs">cause area</th> \n                <th class="svelte-1vdnlbs">contact</th> \n                <th class="svelte-1vdnlbs">Comments</th>',O=f();for(let t=0;t<z.length;t+=1)z[t].c();var t,o;t=n.src,o=s="https://cdn.rawgit.com/serratus/quaggaJS/0420d5e0/dist/quagga.min.js",c||(c=document.createElement("a")),c.href=o,t!==c.href&&v(n,"src","https://cdn.rawgit.com/serratus/quaggaJS/0420d5e0/dist/quagga.min.js"),v(p,"charset","UTF-8"),v(_,"name","viewport"),v(_,"content","width=device-width, initial-scale=1"),v(I,"id","scanner-container"),v(k,"class","video svelte-1vdnlbs"),v(k,"id","video"),v(D,"id","content"),v(D,"class","svelte-1vdnlbs"),v(B,"class","sheet svelte-1vdnlbs"),v(x,"class","container svelte-1vdnlbs")},m(t,o){a(L.head,n),r(t,l,o),r(t,i,o),r(t,b,o),r(t,p,o),r(t,w,o),r(t,_,o),r(t,y,o),r(t,$,o),a($,x),a(x,k),a(k,I),a(k,E),a(k,S),a(S,R),a(k,A),a(k,P),a(x,j),a(x,B),a(B,Q),a(B,C),a(B,D),a(D,M),a(D,O);for(let t=0;t<z.length;t+=1)z[t].m(D,null);W||(J=[h(n,"load",N),h(P,"click",e[4]),h(Q,"click",F)],W=!0)},p(t,[e]){if(1&e&&m(R,t[0]),14&e){let n;for(X=t[1],n=0;n<X.length;n+=1){const o=T(t,X,n);z[n]?z[n].p(o,e):(z[n]=q(o),z[n].c(),z[n].m(D,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=X.length}},i:t,o:t,d(t){u(n),t&&u(l),t&&u(i),t&&u(b),t&&u(p),t&&u(w),t&&u(_),t&&u(y),t&&u($),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(z,t),W=!1,o(J)}}}function F(){var t=document.createRange();t.selectNode(document.getElementById("content")),t.setStart(document.getElementById("content"),1),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()}function N(){console.log("Loaded")}function M(t,e,n){let o="",s=[],l="";function c(t){s.splice(t,1),n(1,s)}return[o,s,l,c,function(){Quagga.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#scanner-container"),constraints:{width:600,height:400,facingMode:"environment"}},frequency:4,decoder:{readers:["ean_reader"],debug:{showPatches:!0,showFoundPatches:!0,showSkeleton:!0,showLabels:!0,showPatchLabels:!0,showRemainingPatchLabels:!0,boxFromPatches:{showTransformed:!0,showTransformedBox:!0,showBB:!0}}}},(function(t){t?console.log(t):(console.log("Initialization finished. Ready to start"),Quagga.start(),_scannerIsRunning=!0)})),Quagga.onProcessed((function(t){var e=Quagga.canvas.ctx.overlay,n=Quagga.canvas.dom.overlay;t&&(t.boxes&&(e.clearRect(0,0,parseInt(n.getAttribute("width")),parseInt(n.getAttribute("height"))),t.boxes.filter((function(e){return e!==t.box})).forEach((function(t){Quagga.ImageDebug.drawPath(t,{x:0,y:1},e,{color:"green",lineWidth:2})}))),t.box&&Quagga.ImageDebug.drawPath(t.box,{x:0,y:1},e,{color:"#00F",lineWidth:2}),t.codeResult&&t.codeResult.code&&Quagga.ImageDebug.drawPath(t.line,{x:"x",y:"y"},e,{color:"red",lineWidth:3}))})),Quagga.onDetected((function(t){console.log("Barcode detected and processed : ["+t.codeResult.code+"]",t),n(0,o=t.codeResult.code),function(){let t=0;t:for(;t<s.length;){if(s[t].isbn==o){console.log("already recorded book");break t}t+=1}return t==s.length}()&&function(){if(10==o.length){console.log("starting 10 digit check");let t=0;for(let e=0;e<9;e++){let n=o[e]-"0";if(console.log(n),n%1!=0)return console.log("not a valid isbn"),!1;t+=n*(10-e)}let e=o[9];return"X"!=e&&(e<"0"||e>"9")?(console.log("not a valid isbn"),!1):(t+="X"==e?10:e-"0",t%11==0||(console.log("failed 10 digit checksum"),!1))}if(13==o.length){console.log("starting 13 digit isbn check");let t=0;for(let e=0;e<12;e++){let n=o[e]-"0";if(0>n||9<n)return console.log("not a valid barcode"),!1;(e+1)%2==0&&(t+=3*n),(e+1)%2==1&&(t+=1*n)}let e=o[12]-"0";return console.log(t),console.log(e),10-t%10==e||t%10==0&&0==e?(console.log("valid Barcode"),!0):(console.log("failed 13 checksum"),!1)}console.log("not 10 or 13 digits")}()&&(console.log("starting api"),Quagga.stop(),document.getElementById("scanner-container").remove(),document.getElementById("video").appendChild(function(){let t=document.createElement("div");return t.setAttribute("id","scanner-container"),t}()),async function(){var t="https://www.googleapis.com/books/v1/volumes?q=isbn:"+o;console.log(t);let e=await fetch(t),l=await e.json();console.log(l),s.push({title:l.items[0].volumeInfo.title,isbn:o,description:l.items[0].volumeInfo.description,date:l.items[0].volumeInfo.publishedDate,author:l.items[0].volumeInfo.authors.toString(),subject:l.items[0].volumeInfo.categories.toString(),comments:"",contactInfo:""}),console.log(s),n(1,s)}())}))},t=>c(t),function(t,e){t[e].cause=this.value,n(1,s)},function(){l=this.value,n(2,l)},function(t,e){t[e].review=this.value,n(1,s)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),C(this,t,M,D,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
